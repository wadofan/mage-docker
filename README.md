# Docker Compose для SCIFiC

Проект призначений для розгортання вебсайту з використанням
Docker-контейнерів: Apache як вебсервер, а також Nginx в
якості зворотнього проксі, зі створенням SSL-сертифікатів
за допомогою Certbot від Let's Encrypt. 

Хоча в рамках цього окремого проекту основною метою є 
розгортання вебсайту конференції SCIFiC.


## Важливо

Для коректної роботи необхідно створити в корні проекту
в папку `webroot`, в нашому випадку таким сайтом є
[цей репозиторий](https://github.com/scific-conference/scific).

Для того, щоб Certbot міг сгенерувати сертифікати,
необхідно задати наступні змінні середовища:
- `CERT_EMAIL`: електронна пошта, на яку буде зареєстрований 
сгенерований SSL сертифікат;
- `CERT_DOMAIN`: доменне ім'я, на яке буде виданий SSL
сертифікат (і на яке буде налаштований вебсервер).

## Як запустити?

Рекомендується скористатись утилітою `docker compose`,
яка завантажить або побудує необхідні образи, а також 
створить контейнери, мережі та волюми, визначені в 
файлі `compose.yml`.

Щоб команда не займала термінал, можна також додати
до неї опцію `-d`.

```console
$ docker compose up -d
```

В нашому випадку створяться тільки три контейнери 
і мережа, в межах якої вони можуть комунікувати.
Замість волюмів в даному проекті використовуються,
так звані bind mount, що пов'язують директорії
всередині контейнера з директоріями в хостовій
операційній системі.


## Як вимкнути?

Скориставшись командою нижче, можна завершити роботу
контейнерів і видалити їх разом із створеною мережею:

```console
$ docker compose down
```

